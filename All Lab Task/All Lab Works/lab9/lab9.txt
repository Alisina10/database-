postgres=# CREATE TABLE students (
    student_id SERIAL PRIMARY KEY,
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    email VARCHAR(150) UNIQUE NOT NULL
);
CREATE TABLE
postgres=# CREATE TABLE professors (
    professor_id SERIAL PRIMARY KEY,
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    email VARCHAR(150) UNIQUE NOT NULL
);
CREATE TABLE
postgres=# CREATE TABLE courses (
    course_id SERIAL PRIMARY KEY,
    course_name VARCHAR(100) NOT NULL,
    department VARCHAR(100),
    professor_id INT REFERENCES professors(professor_id) ON DELETE SET NULL
);
CREATE TABLE
postgres=# CREATE TABLE enrollments (
    enrollment_id SERIAL PRIMARY KEY,
    student_id INT REFERENCES students(student_id) ON DELETE CASCADE,
    course_id INT REFERENCES courses(course_id) ON DELETE CASCADE,
    semester VARCHAR(20),
    enrollment_date DATE DEFAULT CURRENT_DATE,
    UNIQUE (student_id, course_id, semester)
);
CREATE TABLE
postgres=# -- Students
INSERT INTO students (first_name, last_name, email) VALUES
('Alice', 'Johnson', 'alice@univ.edu'),
('Bob', 'Smith', 'bob@univ.edu');

-- Professors
INSERT INTO professors (first_name, last_name, email) VALUES
('Dr.', 'Brown', 'brown@univ.edu'),
('Dr.', 'Miller', 'miller@univ.edu');

-- Courses
INSERT INTO courses (course_name, department, professor_id) VALUES
('Database Systems', 'CS', 1),
('Calculus I', 'Math', 2);

-- Enrollments
INSERT INTO enrollments (student_id, course_id, semester) VALUES
(1, 1, '2024-Spring'),
(2, 1, '2024-Spring'),
(2, 2, '2024-Spring');
INSERT 0 2
INSERT 0 2
INSERT 0 2
INSERT 0 3